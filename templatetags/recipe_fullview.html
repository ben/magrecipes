{% verbatim %}
<script type="text/html" id="ingredientTemplate">
<ul>
   {{each ingredients}}
   <li>
      ${ name } &ndash; ${ quantity }
      {{ if note != '' }} (${ note }) {{ /if }}
   {{/each}}
</ul>
</script>


<script type="text/html" id="stickyTemplate">
   <div class="sticky drop-shadow raised">
      {% endverbatim %} {% if is_admin %} {% verbatim %}
      <div class="modify">
         <a class="deleteinit" href="#">(X)</a><br/>
         <form class="deleteconfirm" action="/deletesticky" method="post">
            <em>Really?</em>
            <input type="hidden" value="${key}" name="key" />
            <a href="#" class="deleteconfirmyes">YES</a>
         </form>
      </div>
      {% endverbatim %} {% endif %} {% verbatim %}
      <div data-bind="html: html"></div>
   </div>
</script>
{% endverbatim %}

<div id="sticky-container">
   <div data-bind="template: {name: 'stickyTemplate', foreach: stickies}"></div>
   {% if is_admin %}
   <div><div id="new-sticky-form" class="sticky raised ">
      <form id="stickyform" method="post" action="/recipe/{{recipe.key}}/stickies">
         <h4>Add a note:</h4>
         <textarea name="text"></textarea>
         <input type="submit"/>
      </form>
   </div></div>
   {% endif %}
</div>

<div class="recipe">
   <div class="modify">
      <a href="/edit/{{recipe.key}}">(Edit)</a><br/>
      <a class="deleteinit" href="#">(Delete)</a><br/>
      <form class="deleteconfirm" action="/delete" method="post">
         <em>Are you sure?</em>
         <input type="hidden" value="{{recipe.key}}" name="key" id="deletekey" />
         <a href="#" class="deleteconfirmyes">YES</a>
      </form>
   </div>
   <h2><span data-bind="text: title" /></h2>
   <div class="yield" data-bind="html: source_html"></div>
   <div class="seasonnote" data-bind="text: joinedMonths"></div>
   <div class="yield">Yield: <span data-bind="text: yeeld" /></div>
   <div data-bind="template: 'ingredientTemplate'"></div>
   <span data-bind="html: instructions_html" />
</div>
